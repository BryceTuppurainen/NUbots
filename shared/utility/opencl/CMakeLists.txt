# Copy OpenCL source files to build folder
# These source files are here because they are used by multiple modules
FILE(GLOB cls "${CMAKE_CURRENT_SOURCE_DIR}/**.cl")
FOREACH(cl ${cls})
	FILE(RELATIVE_PATH cl_path ${CMAKE_CURRENT_SOURCE_DIR} ${cl})
	CONFIGURE_FILE("${cl}" "${CMAKE_BINARY_DIR}/opencl/${cl_path}" COPYONLY)
	SET(NUCLEAR_UTILITY_DATA_FILES
		${NUCLEAR_UTILITY_DATA_FILES}
		"${CMAKE_BINARY_DIR}/opencl/${cl_path}"
		CACHE INTERNAL "A list of all the data files that were generated by utilities" FORCE)
ENDFOREACH(cl ${cls})


SET(dependencies
	OpenCL
	NUbots_PROJECT
)

ADD_UTILITY_LIBRARY(${CMAKE_CURRENT_SOURCE_DIR} ${dependencies})
